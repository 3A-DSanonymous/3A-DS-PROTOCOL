<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>3A-DS Protocol — Agreement</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Consolas, monospace;
        }

        body {
            min-height: 100vh;
            background: black;
            color: #00aaff;
            padding: 40px 0;
            overflow-x: hidden;
            overflow-y: scroll;

        }

        .container {
            position: relative;
            z-index: 2;
            max-width: 700px;
            margin: auto;
            background: rgba(0, 0, 0, .85);
            border: 1px solid #00aaff;
            padding: 40px;
            box-shadow: 0 0 25px rgba(0, 170, 255, .35);

            opacity: 0;
            transform: translateY(25px);
            transition: 1s ease;
        }

        .container.show {
            opacity: 1;
            transform: translateY(0);
        }

        h1 {
            text-align: center;
        }

        .subtitle {
            text-align: center;
            font-size: 14px;
            color: #ccefff;
            margin-bottom: 30px;
        }

        label {
            display: block;
            margin-top: 22px;
            margin-bottom: 6px;
            font-size: 13px;
        }

        input,
        select {
            width: 100%;
            padding: 10px;
            background: black;
            border: 1px solid #00aaff;
            color: #00aaff;
            outline: none;
        }


        input[type="date"] {
            cursor: pointer;
        }

        .options {
            display: flex;
            gap: 20px;
            margin-top: 10px;
        }

        .option {
            flex: 1;
            padding: 12px;
            border: 1px solid #00aaff;
            text-align: center;
            cursor: pointer;
        }

        .option.selected {
            background: #00aaff;
            color: black;
        }

        .actions {
            margin-top: 35px;
            height: 80px;
            position: relative;
        }

        #submitBtn {
            position: absolute;
            left: 50%;
            top: 20px;
            transform: translateX(-50%);
            padding: 12px 30px;
            background: #00aaff;
            color: black;
            border: none;
            cursor: not-allowed;
            opacity: .5;
        }

        .speech {
            text-align: center;
            margin-top: 20px;
            font-size: 13px;
            color: #ccefff;
            opacity: 0;
            transition: .4s;
        }

        .notification {
            position: fixed;
            top: 16px;
            right: 16px;
            width: 260px;
            padding: 14px 18px;
            background: #0b0f0c;
            border: 1px solid #00aaff;
            border-radius: 8px;
            box-shadow: 0 0 20px rgba(0, 170, 255, .4);
            font-size: 13px;
            cursor: pointer;
            color: #ccefff;

            opacity: 0;
            transform: translateY(-10px);
            transition: .35s ease;
            z-index: 9999;
        }

        .notification strong {
            color: #00aaff;
        }

        .notification.show {
            opacity: 1;
            transform: translateY(0);
        }

        .notification:hover {
            box-shadow: 0 0 30px rgba(0, 170, 255, .7);
        }

        #binary-bg {
            position: fixed;
            inset: 0;
            z-index: 0;
            pointer-events: none;
            overflow: hidden;
        }

        .bit {
            position: absolute;
            color: #00aaff;
            font-size: 21px;
            opacity: 0;
            animation: bitFade 1.5s linear forwards;
            text-shadow: 0 0 10px rgba(0, 170, 255, .7);
            will-change: transform, opacity;
        }

        @keyframes bitFade {
            0% {
                opacity: 0;
                transform: translateY(10px);
            }

            15% {
                opacity: .6;
            }

            85% {
                opacity: .6;
            }

            100% {
                opacity: 0;
                transform: translateY(-10px);
            }
        }


        .date-wrap {
            position: relative;
        }

        .date-overlay {
            position: absolute;
            inset: 0;
            background: transparent;
            cursor: pointer;
            z-index: 3; 
        }

  
        .bolo-extra {
            overflow: hidden;
            height: 0;
            opacity: 0;
            transition: height .22s ease, opacity .2s ease, margin-top .22s ease;
            margin-top: 0;
        }

        .bolo-extra.show {
            height: 44px; 
            opacity: 1;
            margin-top: 6px;
        }


        #boloOutro {
            width: 100%;
            padding: 10px;
            background: black;
            border: 1px solid #00aaff;
            color: #00aaff;
            box-sizing: border-box;
            height: 100%;
        }
    </style>
</head>

<body>

    <div id="binary-bg"></div>

    <div class="container">
        <h1>3A-DS Protocol</h1>
        <div class="subtitle">
            DS-KERNEL :: LOGIN() <br>
            access.level = PENDING
        </div>

        <label>Assinatura</label>
        <input type="text" id="nome" placeholder="Nome do admin">

        <label>Data do login</label>

        <div class="date-wrap" style="margin-bottom:6px;">
            <input type="date" id="data">
            <div class="date-overlay" id="dateOverlay" aria-hidden="true"></div>
        </div>

        <label>Bólo favorito</label>
        <select id="bolo" onchange="mostrarOutro()">
            <option value="">Selecione</option>
            <option>Mulango</option>
            <option>Chacolate</option>
            <option>Cenauro</option>
            <option>Milhow</option>
            <option value="outro">Outro</option>
        </select>

        
        <div class="bolo-extra" id="boloExtra">
            <input type="text" id="boloOutro" placeholder="Digite outro bolo...">
        </div>


        <label>Deseja receber mensagens da turma?</label>
        <div class="options">
            <div class="option">Sim</div>
            <div class="option">Clarinho que sim</div>
        </div>

        <div class="actions" id="area">
            <button id="submitBtn">Complete o protocolo</button>
        </div>

        <div class="speech" id="speech">OK… desisto :)</div>
    </div>

    <div id="notification" class="notification">
        <strong>Nova Mensagem do 3A-DS</strong>
        <p>Clique para visualizar.</p>
    </div>

    <script>
        window.addEventListener("load", () => {
            document.querySelector(".container").classList.add("show");
        });

        const nome = document.getElementById("nome");
        const data = document.getElementById("data");
        const dateOverlay = document.getElementById("dateOverlay");
        const bolo = document.getElementById("bolo");
        const boloExtraWrap = document.getElementById("boloExtra");
        const boloOutro = document.getElementById("boloOutro");
        const btn = document.getElementById("submitBtn");
        const area = document.getElementById("area");
        const speech = document.getElementById("speech");
        const options = document.querySelectorAll(".option");
        const notification = document.getElementById("notification");

        let mensagem = false;
        let completo = false;
        let fugir = false;
        let liberado = false;

        options.forEach(o => {
            o.addEventListener("click", () => {
                options.forEach(x => x.classList.remove("selected"));
                o.classList.add("selected");
                mensagem = true;
                checar();
            });
        });

        [nome, data, bolo, boloOutro].forEach(el => {
            el.addEventListener("input", checar);
        });

        function checar() {

            const boloVal = (bolo.value === "outro") ? (boloOutro.value.trim() !== "") : (bolo.value !== "");
            if (nome.value.trim() && data.value && boloVal && mensagem && !completo) {
                completo = true;
                iniciarFuga();
            }
        }

        function iniciarFuga() {
            btn.innerText = "Assinar protocolo";
            btn.style.opacity = 1;
            btn.style.cursor = "pointer";
            fugir = true;

            setTimeout(() => {
                fugir = false;
                liberado = true;
                btn.style.left = "50%";
                btn.style.top = "20px";
                btn.style.transform = "translateX(-50%)";
                speech.style.opacity = 1;
            }, 7000);
        }

        area.addEventListener("mousemove", e => {
            if (!fugir) return;

            const rect = btn.getBoundingClientRect();
            const distX = Math.abs(e.clientX - (rect.left + rect.width / 2));
            const distY = Math.abs(e.clientY - (rect.top + rect.height / 2));

            if (distX < 80 && distY < 50) {
                const maxX = area.clientWidth - btn.clientWidth;
                const maxY = area.clientHeight - btn.clientHeight;

                btn.style.left = Math.random() * maxX + "px";
                btn.style.top = Math.random() * maxY + "px";
                btn.style.transform = "none";
            }
        });

        btn.addEventListener("click", () => {
            if (!liberado) {
                alert("Complete o protocolo.");
                return;
            }

            notification.classList.add("show");

            setTimeout(() => {
                notification.classList.remove("show");
            }, 8000);
        });

        notification.addEventListener("click", () => {
            window.location.href = "whatisthis.html";
        });

        
        dateOverlay.addEventListener("click", (e) => {
            
            if (typeof data.showPicker === "function") {
                data.showPicker();
            } else {
                
                data.focus();
                try {
                    data.click();
                } catch (err) {}
            }
        });

    
        function mostrarOutro() {
            if (bolo.value === "outro") {
                boloExtraWrap.classList.add("show");
                
                checar();
            } else {
                boloExtraWrap.classList.remove("show");
                boloOutro.value = "";
                
                if (completo) {
                    completo = false;
                }
            }
        }
    </script>

    <script>
        const binaryBg = document.getElementById("binary-bg");

        function spawnBit() {
            const bit = document.createElement("div");
            bit.className = "bit";
            bit.textContent = Math.random() > 0.5 ? "1" : "0";

            bit.style.left = Math.random() * window.innerWidth + "px";
            bit.style.top = Math.random() * window.innerHeight + "px";

            binaryBg.appendChild(bit);

            setTimeout(() => {
                if (bit.parentNode) bit.parentNode.removeChild(bit);
            }, 5000);
        }

        const BIN_INTERVAL = 0;
        setInterval(spawnBit, BIN_INTERVAL);
    </script>


</body>

</html>
